import{d as m,r as n,b as p,e as _,c as d,f as e,g as b,t as u,o as i,_ as f}from"./index-BoIsuAL4.js";const k={class:"p-4"},g=["disabled"],v={key:0,class:"mt-4"},x={class:"text-lg"},C=m({__name:"WorkerDemo",setup(y){const o=n(null),l=n(!1);let s=null;p(()=>{s=new Worker(new URL("/large-data-visualization/assets/dataWorker-8dJqExqz.js",import.meta.url),{type:"module"}),s.onmessage=a=>{const{type:t,result:r}=a.data;t==="CALCULATE_COMPLETE"&&(o.value=r,l.value=!1)}}),_(()=>{s&&s.terminate()});const c=()=>{if(!s)return;l.value=!0;const a=Array.from({length:1e6},(t,r)=>r+1);s.postMessage({type:"CALCULATE",data:a})};return(a,t)=>(i(),d("div",k,[t[1]||(t[1]=e("h1",{class:"text-2xl font-bold mb-4"},"Web Worker 演示",-1)),e("button",{onClick:c,disabled:l.value,class:"bg-blue-500 text-white px-4 py-2 rounded disabled:bg-gray-400"},u(l.value?"计算中...":"开始计算"),9,g),o.value!==null?(i(),d("div",v,[t[0]||(t[0]=e("h2",{class:"text-xl font-semibold"},"计算结果：",-1)),e("p",x,u(o.value),1)])):b("",!0),t[2]||(t[2]=e("div",{class:"mt-4 text-gray-600"},[e("p",null,"这个示例展示了如何使用 Web Worker 进行耗时计算："),e("ul",{class:"list-disc pl-5 mt-2"},[e("li",null,"点击按钮会触发一个耗时的计算任务"),e("li",null,"计算在 Worker 线程中进行，不会阻塞主线程"),e("li",null,"计算完成后，结果会显示在页面上")])],-1))]))}}),E=f(C,[["__scopeId","data-v-31cdbb59"]]);export{E as default};
